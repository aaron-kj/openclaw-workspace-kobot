# 2026-01-30 (Thursday)

## Shared Corporate macOS Clawdbot Installation Tips
**When:** 11:36 AM JST
**Where:** Slack #kobo-japan-ai-sharing
**Context:** chingchao.wu shared valuable lessons learned from installing Clawdbot on a corporate-managed macOS

### Key Tips:
1. **Avoid curl install** - Use nvm + latest Node + npm global install
   - Keeps packages under `~/` instead of `/usr/local/*`
   - Avoids sudo privileges
   - Easier to switch/manage later

2. **Certificate Issues** - Common with corporate proxies (Netskope)
   - Find Netskope .pem file: `ls -la /Library/Application\ Support/Netskope/STAgent/data/*.pem`
   - Bundle PEM files into one
   - Export `NODE_EXTRA_CA_CERTS` env variable to point to bundled file
   - Set proper PATH in rc file

3. **Configuration Commands**
   - `clawdbot config` - Setup models, skills, etc.
   - `clawdbot doctor` - Health check (watch security reports!)

4. **Authentication**
   - Corporate GitHub Copilot account works great
   - Straightforward auth flow
   - Better performance + decent premium quota
   - (Local LLM still not working for user)

5. **Meta-tip:** Having an AI agent to help troubleshoot makes everything much easier!

### Action Items:
- Consider documenting these tips in a shareable guide
- Maybe add to Clawdbot docs as "Corporate Environment Setup" section

---

## Session Isolation Configuration (1:00 PM JST)
**Issue:** Web UI and Slack DM were sharing the same session, causing context mixing
**Solution:** Added `session.dmScope: "per-channel-peer"` to config
**Result:** Each channel now has isolated sessions - web UI and Slack DM are completely separate

---

## Tailscale Cleanup & Vaultwarden Access (1:09 PM - 1:15 PM JST)
**Background:** 
- Last night installed Tailscale via Homebrew to access Vaultwarden
- This overwrote existing macOS Tailscale.app installation
- Machine appeared as "clawdbot-jp" instead of original name

**Fix:**
1. Logged out of Tailscale
2. Uninstalled Homebrew version (`brew uninstall tailscale`)
3. Restored macOS Tailscale.app as primary connection
4. Confirmed access to https://vault.wu5154.synology.me works through system-level Tailscale routing

**Result:** Clawdbot now accesses Vaultwarden transparently through macOS Tailscale routing. User can control access by enabling/disabling Tailscale app.

---

## Bitwarden CLI Setup (1:20 PM - 1:23 PM JST)
**Purpose:** Secure credential management via Vaultwarden

**Setup:**
- Bitwarden CLI (`bw`) already installed via Homebrew
- Configured to point to https://vault.wu5154.synology.me
- Logged in with ccw220@yahoo.com
- Session token stored

**⚠️ SECURITY MISTAKE:** 
Exposed master password and session key in Slack by echoing command output back. User could not delete bot messages (API limitation), had to pin the message as a reminder.

**LESSON LEARNED:**
- **NEVER echo sensitive data back** (passwords, tokens, keys)
- Process credentials silently
- Confirm success without details
- Treat all credential data as sensitive by default

**Going forward:** Use session key to read/write vault entries securely without exposing credentials in chat.

---

## Telegram Bot Integration (3:45 PM - 4:09 PM JST)
**Setup:**
- Bot username: @kobo_tokyo_bot
- Bot token: 8581196828:AAHpDRK6_74QxaGe82oNtbsklkaI817cwgw
- Configured with `dmPolicy: "pairing"` and user ID 7503583145 in `allowFrom`
- DMs working perfectly ✅

**Group Chat Issues:**
- User created group "Bots" and invited bot
- Bot cannot see group messages (privacy mode issue)
- **Telegram bot privacy:** By default bots only see:
  - Direct mentions (`@kobo_tokyo_bot`)
  - Commands (`/command`)
  - Need to **disable Privacy Mode** via @BotFather to see all messages

**To Fix:**
1. Open @BotFather
2. `/mybots` → select @kobo_tokyo_bot
3. Bot Settings → Group Privacy → Disable

**User Feedback:**
- ✅ Web UI hard refresh (Cmd+Shift+R) fixes stuck operations
- ✅ Telegram "typing" indicator provides good UX feedback
- ✅ Cross-platform messaging (Telegram/Slack/Web) all working
- Better real-time feedback on mobile vs web interface

---

## Stock Market News Summaries (3:52 PM - 4:00 PM JST)
**Delivered:**
1. **Japanese stock market** (Jan 30):
   - Nikkei 225: 53,322.85 (-52.75 / -0.10%)
   - 4-day winning streak ended
   - Key earnings: Laser Technik (+18%), Bourbon (loss→profit)
   
2. **Taiwan stock market** (Jan 30):
   - TAIEX: 32,063 (-472 / -1.45%)
   - TSMC: 1,775 (-30 / -1.66%)
   - Held 10-day support line
   - Pre-Lunar New Year consolidation

**Tools Used:** web_fetch on multiple financial news sites (Yahoo Finance, Nikkei, UDN)

---

## Security Audit Check (4:06 PM JST)
Ran `clawdbot doctor`:
- ✅ No channel security warnings
- ✅ No critical issues
- Gateway entrypoint mismatch (non-critical)
- Telegram/Slack channels operational
